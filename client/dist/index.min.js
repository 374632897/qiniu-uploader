!function(){"use strict";var e=function(e){return e<1024?e+" B":"KB, MB, GB, TB".split(", ").reduce(function(e,t){if("string"==typeof e)return e;const n=e/1024;return n<=1024?n.toFixed(2)+" "+t:n},e)},t=document.querySelector("paste"),n={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"upload-item"},[n("span",{staticClass:"file-name"},[e._v(e._s(e.file.name))]),e._v(" "),n("span",{staticClass:"file-size"},[e._v(e._s(e.size))]),n("div",{staticClass:"progress"},[n("span",{ref:"bar",staticClass:"bar"})]),e.completed?n("button",{ref:"preview",staticClass:"preview",on:{click:e.preview}},[e._v("预览")]):e._e(),e._v(" "),e.completed?n("button",{ref:"preview",staticClass:"copy-path",on:{click:e.copyPath}},[e._v("复制地址")]):e._e(),e._v(" "),n("input",{ref:"url",staticClass:"hide",attrs:{name:""}})])},staticRenderFns:[],name:"upload-item",props:["file"],data:function(){return{completed:!1}},mounted:function(){this.bar=this.$refs.bar,this.urlInput=this.$refs.url},methods:{complete:function(){this.completed=!0,this.urlInput.value=this.file.sourceLink,console.info(this.file)},copyPath:function(){this.urlInput.value=this.file.sourceLink,this.urlInput.select(),document.execCommand("copy")?alert("复制成功， 可以粘贴使用了O(∩_∩)O"):(t.value=t.value+this.file.sourceLink+"\n",alert("复制失败, 请手动复制上面文本框内的内容进行粘贴"))},preview:function(){window.open(this.file.sourceLink)}},computed:{size:function(){return e(this.file.size)}},watch:{"file.percent":function(e){this.bar.style.width=e+"%",100===e&&this.complete()}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"upload-data"}},e._l(e.files,function(e,t){return n("item",{attrs:{file:e}})}))},staticRenderFns:[],name:"upload-data",data:function(){return{files:window.uploader.files}},components:{Item:n},methods:{},computed:{}},o={DOMAIN_NAME:"https://assets.noteawesome.com/",BUCKET_NAME:"blog2",NAME_SPACE:"youAreSoLosed"},r=o.DOMAIN_NAME,s=o.NAME_SPACE||"testUpload",a=function(){return 1e5*Math.random()|0},u=function(){return s+"/"+(new Date).toLocaleDateString()+"/"+a()+"/"},l=Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"pickfiles",uptoken_url:"/getToken",uptoken_func:function(e){return uptoken+e},unique_names:!1,domain:r,container:"container",max_file_size:"100mb",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(e,t){plupload.each(t,function(e){})},BeforeUpload:function(e,t){},UploadProgress:function(e,t){},FileUploaded:function(e,t,n){var i=e.getOption("domain"),o=JSON.parse(n.response),r=i+o.key;t.sourceLink=r},Error:function(e,t,n){},UploadComplete:function(){},Key:function(e,t){return u()+t.name}}});window.uploader=l,document.getElementById("paste").addEventListener("paste",function(e){for(var t=e.clipboardData.items,n=0;n<t.length;n++){var i=t[n];if("file"==i.kind&&/image\//.test(i.type)){var o=i.getAsFile();window.uploader.addFile(o);break}}}),window.vueUploader=new Vue({el:"#upload-data",render:function(e){return e(i)}})}();
//# sourceMappingURL=index.min.js.map
